# Тестовое задание на позицию Middle python разработчик в компанию SibDev
___
<h2>Термины используемые в описании задачи:</h2>

<ul>
<li>БВ. Базовая валюта. Рубль.</li>
<li>КВ. Котируемая валюта. Валюта, в которой выражена цена базовой валюты</li>
<li>Котировка. Цена единицы базовой валюты, выраженная в котируемой валюте</li>
<li>ПЗ. Пороговое значение. Устанавливается пользователем для сравнения с котировками.</li>
</ul>

<h2>Требования:</h2>
<h3>Обязательные:</h3>
<ol>
<li>Проект запускается командой docker compose up</li>
<li>API проекта соответствует 
<a href="https://drive.google.com/file/d/13PfXPGBCQEHKL6xnTRANHAo6wFsDqECX/view?usp=sharing">спецификации OpenAPI</a> </li>
<li>Регистрацию по email и паролю</li>
<li>JWT-аутентификация по email и паролю</li>
<li>Ежедневно в 12:00 по МСК в БД загружаются дневные котировки ЦБ РФ
(<a href="https://www.cbr-xml-daily.ru/daily_json.js">API</a>)</li>
<li>Администратору сервера доступна management команда для загрузки в БД истории
котировок ЦБ РФ (<a href="https://www.cbr-xml-daily.ru/archive/2023/06/01/daily_json.js">archive API</a>) за последние
30 дней, включая текущий день</li>
<li>Пользователям доступен эндпоинт для добавления КВ в список отслеживаемых им
КВ с установкой для них ПЗ</li>
<li>Пользователям, чьи ПЗ были превышены в новых загруженных котировках,
отправляется письмо в произвольной форме со списком соответствующих КВ</li>
<li>Пользователю доступен эндпоинт, возвращающий список последних загруженных
котировок:
<ul>
<li>Отслеживаемые КВ для аутентифицированного пользователя</li>
<li>Все КВ для анонимного пользователя</li>
</ul>
</li>
<li>Пользователю доступен эндпоинт аналитики, принимающий:</li>
<ul>
<li>ID КВ</li>
<li>ПЗ</li>
<li>Дату начала и дату окончания интервала выборки</li>
И возвращающий список котировок, расширенных полями:
<li>Логическое: значение котировки превысило заданное ПЗ</li>
</ul>
</ol>
<h3>Будет плюсом:</h3>
<ol>
<li>Добавить сортировку по полю value (asc, desc) для эндпоинта п.9</li>
<li>Добавить кэширование данных для эндпоинта п.9</li>
<li>Доработать эндпоинт аналитики:</li>
<ul>
<li>Заменить логическое поле строковым: котировка превысила, равна или
меньше ПЗ</li>
<li>Добавить логические поля: котировка является максимальной, минимальной
в выборке</li>
<li>Добавить числовое поле: процентное отношение котировки к ПЗ
</li>
</ul>
<li>Реализовать юнит-тесты основной логики</li>
</ol>